<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>you360Mobile documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	    <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">you360Mobile documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
                <input type="text" placeholder="Type to search">
            </div>
            <nav>
            
                <ul class="list">
            
                    <li class="title">
                        <a href="../">you360Mobile documentation</a>
                    </li>
            
                    <li class="divider"></li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                        <ul class="links">
                                <li class="link">
                                    <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                </li>
                                <li class="link">
                                    <a 
                                        
                                         href="../overview.html" 
                                         href="../overview.html" 
                                        >
                                        <span class="fa fa-th"></span>Overview
                                    </a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="./modules.html" >
                            <span class="fa fa-archive"></span>
                            <span>Modules</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-modules-links"
                            ></span>
                        </a>
                        <ul class="links collapse in"
                                id="xs-modules-links"
                            >
                                <li class="link">
                                    <a href="../modules/AppModule.html" >AppModule</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-cogs"></span>
                            <span>Components</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-components-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-components-links"
                            >
                                <li class="link">
                                    <a href="../components/AframePlayerComponent.html" >AframePlayerComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CardsPage.html" >CardsPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ItemCreatePage.html"  class="active" >ItemCreatePage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ItemDetailPage.html" >ItemDetailPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ListMasterPage.html" >ListMasterPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoginPage.html" >LoginPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MapPage.html" >MapPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MyApp.html" >MyApp</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PlayerComponent.html" >PlayerComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SearchPage.html" >SearchPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SettingsPage.html" >SettingsPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SignupPage.html" >SignupPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/TabsPage.html" >TabsPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/TutorialPage.html" >TutorialPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/WelcomePage.html" >WelcomePage</a>
                                </li>
                        </ul>
                    </li>
            
            
            
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-long-arrow-down"></span>
                            <span>Injectables</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-injectables-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-injectables-links"
                            >
                                <li class="link">
                                    <a href="../injectables/Api.html" >Api</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/Category.html" >Category</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/Report.html" >Report</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/Settings.html" >Settings</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/Socket.html" >Socket</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/User.html" >User</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/Video.html" >Video</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-info"></span>
                            <span>Interfaces</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-interfaces-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-interfaces-links"
                            >
                                <li class="link">
                                    <a href="../interfaces/Slide.html" >Slide</a>
                                </li>
                        </ul>
                    </li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                    </li>
            
                    <li class="divider"></li>
                    <li class="copyright">
                            Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                        <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                            </a>
                    </li>
            
                </ul>
            
            </nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>
                   
                       <ul class="list">
                   
                           <li class="title">
                               <a href="../">you360Mobile documentation</a>
                           </li>
                   
                           <li class="divider"></li>
                   
                               <div id="book-search-input" role="search">
                                   <input type="text" placeholder="Type to search">
                               </div>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                               <ul class="links">
                                       <li class="link">
                                           <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                       </li>
                                       <li class="link">
                                           <a 
                                               
                                                href="../overview.html" 
                                                href="../overview.html" 
                                               >
                                               <span class="fa fa-th"></span>Overview
                                           </a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="./modules.html" >
                                   <span class="fa fa-archive"></span>
                                   <span>Modules</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#modules-links"
                                   ></span>
                               </a>
                               <ul class="links collapse in"
                                       id="modules-links"
                   >
                                       <li class="link">
                                           <a href="../modules/AppModule.html" >AppModule</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-cogs"></span>
                                   <span>Components</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#components-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="components-links"
                   >
                                       <li class="link">
                                           <a href="../components/AframePlayerComponent.html" >AframePlayerComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CardsPage.html" >CardsPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ItemCreatePage.html"  class="active" >ItemCreatePage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ItemDetailPage.html" >ItemDetailPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ListMasterPage.html" >ListMasterPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoginPage.html" >LoginPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MapPage.html" >MapPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MyApp.html" >MyApp</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PlayerComponent.html" >PlayerComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SearchPage.html" >SearchPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SettingsPage.html" >SettingsPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SignupPage.html" >SignupPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/TabsPage.html" >TabsPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/TutorialPage.html" >TutorialPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/WelcomePage.html" >WelcomePage</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                   
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-long-arrow-down"></span>
                                   <span>Injectables</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#injectables-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="injectables-links"
                   >
                                       <li class="link">
                                           <a href="../injectables/Api.html" >Api</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/Category.html" >Category</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/Report.html" >Report</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/Settings.html" >Settings</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/Socket.html" >Socket</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/User.html" >User</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/Video.html" >Video</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-info"></span>
                                   <span>Interfaces</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#interfaces-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="interfaces-links"
                   >
                                       <li class="link">
                                           <a href="../interfaces/Slide.html" >Slide</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                           </li>
                   
                           <li class="divider"></li>
                           <li class="copyright">
                                   Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                               <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                                   </a>
                           </li>
                   
                       </ul>
                   
                   </nav>
               </div>
               <div class="content component">
                   <div class="content-data">


<ol class="breadcrumb">
  <li>Components</li>
  <li>ItemCreatePage</li>
</ol>


    <ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#infos" id="infos-tab" role="tab" data-toggle="tab">Infos</a>
        </li>
        <li>
            <a href="#readme" role="tab" id="readme-tab" data-toggle="tab">README</a>
        </li>
        <li>
            <a href="#source" role="tab" id="source-tab" data-toggle="tab">Source</a>
        </li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane fade active in" id="infos"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/pages/item-create/item-create.ts</code>
</p>



<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>page-item-create</code></td>
            </tr>




            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>item-create.html</code></td>
            </tr>


        </tbody>
    </table>
</section>



    <section>
        <h3 id="constructor">Constructor</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <code>constructor(navCtrl: NavController, viewCtrl: ViewController, formBuilder: <a href="https://angular.io/docs/ts/latest/api/forms/index/FormBuilder-class.html" target="_blank" >FormBuilder</a>, camera: Camera, api: <a href="../injectables/Api.html" >Api</a>, fileChooser: FileChooser, video: <a href="../injectables/Video.html" >Video</a>, category: <a href="../injectables/Category.html" >Category</a>, googleMaps: GoogleMaps, socket: <a href="../injectables/Socket.html" >Socket</a>)</code>
                        </td>
                    </tr>
    
                </tbody>
            </table>
    </section>

    <section>
        <h3 id="methods">Methods</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> getPicture</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>getPicture()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>if camera available open it and take picture as base64 and patch <code>thumb</code> form value  , get call file input native behaviour</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> processWebImage</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>processWebImage(event: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>read the file as base 64 data  then patch <code>thumb</code> form value with data</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> getProfileImageStyle</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>getProfileImageStyle()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>creates css url function with image url</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> cancel</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>cancel()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>The user cancelled, so we dismiss without sending data back.</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> done</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>done()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>The user is done and wants to create the video, now call the upload method to start uploading and wait until <code>filename</code> returned from the server then call video create endpoint with the data</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> getVideoUrl</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>getVideoUrl()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>open the native file chooser then set <code>videoUrl</code> value to the file url</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> upload</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>upload()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>call upload api endpoint to upload the video file and make uploading... text appear to notify the user</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> loadMap</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>loadMap()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>create a new map by passing HTMLElement<br>then listen to MAP_READY event <code>map.one(GoogleMapsEvent.MAP_READY).then(() =&gt; { // your code})</code><br>You must wait for this event to fire before adding something to the map or modifying it in anyway<br>then get the current position and move the camera to this position <code>map.getMyLocation().then((loc) =&gt; {})</code><br>then create new marker <code>map.addMarker(markerOptions).then(()=&gt;{})</code><br>then added drag event on the marker to set lat and long for the video when marker position changed</p>
    <pre><code class="hljs undefined">  marker.on(GoogleMapsEvent.MARKER_DRAG_END).subscribe((event) => {<br>          marker.getPosition().then((pos) => {<br>            this.form.patchValue({'lat': pos.lat});<br>            this.form.patchValue({'long': pos.lng});<br>          });<br>        });</code></pre></div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
    </section>

    <section>
        <h3 id="inputs">Properties</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> api</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>api:     <code><a href="../injectables/Api.html" target="_self" >Api</a></code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> camera</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>camera:     <code>Camera</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> categories</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>categories:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> category</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>category:     <code><a href="../injectables/Category.html" target="_self" >Category</a></code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> fileInput</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>fileInput:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> form</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>form:     <code><a href="https://angular.io/docs/ts/latest/api/forms/index/FormGroup-class.html" target="_blank" >FormGroup</a></code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> isReadyToSave</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>isReadyToSave:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> isUploading</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>isUploading:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> item</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>item:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> map</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>map:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> navCtrl</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>navCtrl:     <code>NavController</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> progress</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>progress:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> socket</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>socket:     <code><a href="../injectables/Socket.html" target="_self" >Socket</a></code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> tags</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>tags:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> video</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>video:     <code><a href="../injectables/Video.html" target="_self" >Video</a></code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> videoUrl</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>videoUrl:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> viewCtrl</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>viewCtrl:     <code>ViewController</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
    </section>
</div>
        <div class="tab-pane fade" id="readme">
            <p><h1 id="video-create">Video Create</h1>
<p>The Video Create Page creates new instances of <code>VideoProvider</code>,  and build form then handles video upload and sends video data to the server</p>
</p>
        </div>
        <div class="tab-pane fade tab-source-code" id="source">
            <pre><code class="hljs javascript">import {AfterViewInit, Component, OnInit, ViewChild} from &#x27;@angular/core&#x27;;
import {Validators, FormBuilder, FormGroup} from &#x27;@angular/forms&#x27;;
import {NavController, ViewController} from &#x27;ionic-angular&#x27;;
import {FileChooser} from &#x27;@ionic-native/file-chooser&#x27;;
import {Camera} from &#x27;@ionic-native/camera&#x27;;
import {Api} from &quot;../../providers/api&quot;;
import {Video} from &quot;../../providers/video&quot;;
import {Category} from &quot;../../providers/category&quot;;
import {
  GoogleMaps, GoogleMap, GoogleMapsEvent, CameraPosition, MarkerOptions,
  Marker
} from &#x27;@ionic-native/google-maps&#x27;;
import {Socket} from &quot;../../providers/socket&quot;;


@Component({
  selector: &#x27;page-item-create&#x27;,
  templateUrl: &#x27;item-create.html&#x27;
})
export class ItemCreatePage implements OnInit, AfterViewInit {
  isUploading: boolean;

  ngOnInit(): void {
    this.category.all().subscribe((data) &#x3D;&gt; {
      this.categories &#x3D; data.json().docs;
    })
  }

  @ViewChild(&#x27;fileInput&#x27;) fileInput;
  @ViewChild(&#x27;map&#x27;) map;

  isReadyToSave: boolean;
  videoUrl: any &#x3D; null;
  item: any;
  categories: any;
  tags: any;
  form: FormGroup;
  progress:any;

  constructor(public navCtrl: NavController,
              public viewCtrl: ViewController,
              formBuilder: FormBuilder,
              public camera: Camera,
              public api: Api,
              private fileChooser: FileChooser,
              public video: Video,
              public category: Category,
              private googleMaps: GoogleMaps,
              public socket: Socket) {
    this.form &#x3D; formBuilder.group({
      thumb: [&#x27;&#x27;],
      tags: [[]],
      name: [&#x27;&#x27;, Validators.required],
      lat: [&#x27;&#x27;, Validators.required],
      long: [&#x27;&#x27;, Validators.required],
      description: [&#x27;&#x27;, Validators.required],
      category: [&#x27;&#x27;, Validators.required],
    });

    // Watch the form for changes, and
    this.form.valueChanges.subscribe((v) &#x3D;&gt; {
      this.isReadyToSave &#x3D; this.form.valid;
    });
  }
  /**
    load the map when view inits
   */
  ngAfterViewInit() {
    this.loadMap()
  }
  /**
   * if camera available open it and take picture as base64 and patch &#x60;thumb&#x60; form value  , get call file input native behaviour
   */
  getPicture() {
    if (Camera[&#x27;installed&#x27;]()) {
      this.camera.getPicture({
        destinationType: this.camera.DestinationType.DATA_URL,
        targetWidth: 96,
        targetHeight: 96
      }).then((data) &#x3D;&gt; {
        this.form.patchValue({&#x27;thumb&#x27;: &#x27;data:image/jpg;base64,&#x27; + data});
      }, (err) &#x3D;&gt; {
        alert(&#x27;Unable to take photo&#x27;);
      })
    } else {
      this.fileInput.nativeElement.click();
    }
  }
  /**
   * read the file as base 64 data  then patch &#x60;thumb&#x60; form value with data
   */
  processWebImage(event) {
    let reader &#x3D; new FileReader();
    reader.onload &#x3D; (readerEvent) &#x3D;&gt; {
      let imageData &#x3D; (readerEvent.target as any).result;
      this.form.patchValue({&#x27;thumb&#x27;: imageData});
    };

    reader.readAsDataURL(event.target.files[0]);
  }
  /**
   * creates css url function with image url
   */
  getProfileImageStyle() {
    return &#x27;url(&#x27; + this.form.controls[&#x27;thumb&#x27;].value + &#x27;)&#x27;
  }

  /**
   * The user cancelled, so we dismiss without sending data back.
   */
  cancel() {
    this.navCtrl.pop();
  }

  /**
   * The user is done and wants to create the video, now call the upload method to start uploading and wait until &#x60;filename&#x60; returned from the server then call video create endpoint with the data
   */
  done() {
    if (!this.form.valid) {
      return;
    }
    this.upload().subscribe((data) &#x3D;&gt; {
      let filename &#x3D; JSON.parse(data.response).filename;
      this.item &#x3D; this.form.value;
      this.item.tags &#x3D; this.item.tags.map((tag) &#x3D;&gt; tag.name);
      this.item[&#x27;filename&#x27;] &#x3D; filename;
      this.isUploading &#x3D; false;
      this.video.create(this.item).subscribe((data) &#x3D;&gt; {
        this.socket.newVideo(data.json().id);
      });

      this.navCtrl.pop();
    }, (error) &#x3D;&gt; {
      console.log(error);
    })
  }
  /**
   * open the native file chooser then set &#x60;videoUrl&#x60; value to the file url
   *
   */
  getVideoUrl() {
    this.fileChooser.open().then((uri) &#x3D;&gt; {
      this.videoUrl &#x3D; uri;
    });
  }

  /**
   * call upload api endpoint to upload the video file and make uploading... text appear to notify the user
   *
   */
  upload() {
    let options &#x3D; {
      fileKey: &#x27;video&#x27;,
      fileName: &#x27;file&#x27;,
    };
    let filePath &#x3D; this.videoUrl;
    this.isUploading &#x3D; true;
    return this.api.upload(filePath, options,(event:ProgressEvent)&#x3D;&gt;{
      if (event.lengthComputable) {
        this.progress &#x3D; Math.round((event.loaded / event.total) * 100);
        console.log(&quot;Progress: &quot;, this.progress);
      }
    });

  }

  /**
   * create a new map by passing HTMLElement
   * then listen to MAP_READY event &#x60;&#x60;&#x60;  map.one(GoogleMapsEvent.MAP_READY).then(() &#x3D;&gt; { // your code}) &#x60;&#x60;&#x60;
   * You must wait for this event to fire before adding something to the map or modifying it in anyway
   * then get the current position and move the camera to this position &#x60;&#x60;&#x60;  map.getMyLocation().then((loc) &#x3D;&gt; {})&#x60;&#x60;&#x60;
   * then create new marker &#x60;&#x60;&#x60;  map.addMarker(markerOptions).then(()&#x3D;&gt;{})&#x60;&#x60;&#x60;
   * then added drag event on the marker to set lat and long for the video when marker position changed
   *  &#x60;&#x60;&#x60;
   *  marker.on(GoogleMapsEvent.MARKER_DRAG_END).subscribe((event) &#x3D;&gt; {
              marker.getPosition().then((pos) &#x3D;&gt; {
                this.form.patchValue({&#x27;lat&#x27;: pos.lat});
                this.form.patchValue({&#x27;long&#x27;: pos.lng});
              });
            });
   &#x60;&#x60;&#x60;
   */
  loadMap() {


    let element: HTMLElement &#x3D; document.getElementById(&#x27;map&#x27;);

    let map: GoogleMap &#x3D; this.googleMaps.create(element);

    map.one(GoogleMapsEvent.MAP_READY).then(() &#x3D;&gt; {
      map.getMyLocation().then((loc) &#x3D;&gt; {
        let position: CameraPosition &#x3D; {
          target: loc.latLng,
          zoom: 15,
          tilt: 30
        };
        this.form.patchValue({&#x27;lat&#x27;: loc.latLng.lat});
        this.form.patchValue({&#x27;long&#x27;: loc.latLng.lng});

        map.moveCamera(position);

        let markerOptions: MarkerOptions &#x3D; {
          position: loc.latLng,
          title: &quot;you360 video&quot;,
          draggable: true,
        };

        map.addMarker(markerOptions)
          .then((marker: Marker) &#x3D;&gt; {
            marker.showInfoWindow();
            marker.on(GoogleMapsEvent.MARKER_DRAG_END).subscribe((event) &#x3D;&gt; {
              marker.getPosition().then((pos) &#x3D;&gt; {
                this.form.patchValue({&#x27;lat&#x27;: pos.lat});
                this.form.patchValue({&#x27;long&#x27;: pos.lng});
              });
            });
          });
      });
    });

  }
}
</code></pre>
        </div>
    </div>










                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/menu.js"></script>
       <script src="../js/libs/highlight.pack.js"></script>
       <script src="../js/libs/highlightjs-line-numbers.min.js"></script>
       <script src="../js/search/search_index.js"></script>
       <script>
            document.addEventListener('DOMContentLoaded', function() {
                hljs.initHighlightingOnLoad();
                hljs.initLineNumbersOnLoad();
            });
       </script>

    </body>
</html>
